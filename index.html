<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Butki Dino</title>

<style>
body{
  margin:0;
  background:#111;
  font-family:Arial;
  color:white;
}

/* wrapper to center everything */
.wrapper{
  height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
}

/* NAME BOX */
#nameBox{
  background:#000;
  padding:30px;
  border-radius:18px;
  text-align:center;
  box-shadow:0 0 25px #00bfff;
}

.btn{
  padding:10px 20px;
  margin:8px;
  border:none;
  border-radius:10px;
  font-size:16px;
  cursor:pointer;
}

#runBtn{background:#333;color:white;}
#startBtn{background:#ff1493;color:white;}

/* GAME AREA */
#game{
  display:none;
  width:95%;
  height:200px;
  border-bottom:3px solid white;
  position:relative;
}

/* dino */
#dino{
  position:absolute;
  bottom:0;
  left:40px;
  font-size:42px;
}

/* cactus */
#cactus{
  position:absolute;
  bottom:0;
  right:-40px;
  font-size:38px;
}

/* score */
#score{
  position:absolute;
  top:-25px;
  right:5px;
}

/* jump button JUST BELOW GAME */
#jumpBtn{
  display:none;
  margin-top:10px;
  padding:10px 22px;
  background:#ff1493;
  border:none;
  border-radius:10px;
  color:white;
}

/* game over */
#overBox{
  display:none;
  position:absolute;
  top:40%;
  left:50%;
  transform:translate(-50%,-50%);
  text-align:center;
}
</style>
</head>

<body>

<div class="wrapper">

  <!-- NAME -->
  <div id="nameBox">
    <h3>Apka name kya hai !?</h3>
    <button id="runBtn" class="btn">Srinjil âœ¨</button>
    <button id="startBtn" class="btn">Butkiiiii ğŸ˜ğŸ¤ğŸ»</button>
  </div>

  <!-- GAME -->
  <div id="game">

    <div id="score">Score: 0</div>
    <div id="dino">ğŸ¦–</div>
    <div id="cactus">ğŸŒµ</div>

    <div id="overBox">
      <h2>Butkiiiii har gayi ğŸ˜­</h2>
      <button class="btn" onclick="location.reload()">Retry ğŸ”</button>
    </div>

  </div>

  <button id="jumpBtn">Butkiiiii Jump ğŸ˜</button>

</div>

<script>
const nameBox=document.getElementById("nameBox");
const runBtn=document.getElementById("runBtn");
const startBtn=document.getElementById("startBtn");

const game=document.getElementById("game");
const jumpBtn=document.getElementById("jumpBtn");

const dino=document.getElementById("dino");
const cactus=document.getElementById("cactus");
const overBox=document.getElementById("overBox");
const scoreText=document.getElementById("score");

let jumping=false;
let cactusX=window.innerWidth;
let score=0;
let speed=7;
let loop;

/* run button bhaage */
runBtn.onclick=()=>{
  runBtn.style.position="relative";
  runBtn.style.left=Math.random()*100-50+"px";
  runBtn.style.top=Math.random()*100-50+"px";
};

/* start game */
startBtn.onclick=()=>{
  nameBox.style.display="none";
  game.style.display="block";
  jumpBtn.style.display="block";
  startGame();
};

/* jump */
function jump(){
  if(jumping) return;
  jumping=true;

  let y=0;

  let up=setInterval(()=>{
    if(y>=80){
      clearInterval(up);
      let down=setInterval(()=>{
        if(y<=0){
          clearInterval(down);
          jumping=false;
        }
        y-=5;
        dino.style.bottom=y+"px";
      },15);
    }
    y+=5;
    dino.style.bottom=y+"px";
  },15);
}

jumpBtn.onclick=jump;
document.addEventListener("keydown",jump);

/* game loop */
function startGame(){

loop=setInterval(()=>{

  cactusX-=speed;

  if(cactusX<-40){
    cactusX=window.innerWidth;
    score++;
    speed+=0.2;
    scoreText.innerText="Score: "+score;
  }

  cactus.style.right=(window.innerWidth-cactusX)+"px";

  let d=dino.getBoundingClientRect();
  let c=cactus.getBoundingClientRect();

  if(d.left < c.right && d.right > c.left && d.bottom > c.top){
    clearInterval(loop);
    jumpBtn.style.display="none";
    overBox.style.display="block";
  }

},20);

}
</script>

</body>
</html>
